"use strict";var e=require("@react-spring/web"),t=require("react"),n=require("react-resize-detector");function r(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}r(':root {\n  /* Add your CSS variables here */\n  --background: #fff;\n  --font-color: #494949;\n\n  --harvey-black: #131111;\n  --harvey-white: #e0e0e0;\n  --harvey-red: #ff2323;\n  --harvey-green: #005f20;\n  --harvey-blue: #070bce;\n\n  --heading-font-size: 40px;\n\n  font-family: "Avenir Next", Helvetica, Arial, sans-serif;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --background: #3c3c3c;\n    --font-color: #fafafa;\n  }\n}\n\n');var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};var i=t.memo((function(n){return t.createElement(e.animated.rect,o({},n))}));function a(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function c(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=l)):void 0===t&&(t=u);for(var n,r,o,i,a,c=new f(e),h=[c];n=h.pop();)if((o=t(n.data))&&(a=(o=Array.from(o)).length))for(n.children=o,i=a-1;i>=0;--i)h.push(r=o[i]=new f(o[i])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(s)}function u(e){return e.children}function l(e){return Array.isArray(e)?e[1]:null}function h(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function s(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function f(e){this.data=e,this.depth=this.height=0,this.parent=null}function d(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function p(){var e=1,t=1,n=0,r=!1;function o(o){var i=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/i,o.eachBefore(function(e,t){return function(r){r.children&&function(e,t,n,r,o){for(var i,a=e.children,c=-1,u=a.length,l=e.value&&(r-t)/e.value;++c<u;)(i=a[c]).y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*l}(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var o=r.x0,i=r.y0,a=r.x1-n,c=r.y1-n;a<o&&(o=a=(o+a)/2),c<i&&(i=c=(i+c)/2),r.x0=o,r.y0=i,r.x1=a,r.y1=c}}(t,i)),r&&o.eachBefore(d),o}return o.round=function(e){return arguments.length?(r=!!e,o):r},o.size=function(n){return arguments.length?(e=+n[0],t=+n[1],o):[e,t]},o.padding=function(e){return arguments.length?(n=+e,o):n},o}f.prototype=c.prototype={constructor:f,count:function(){return this.eachAfter(a)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,o,i=this,a=[i],c=[],u=-1;i=a.pop();)if(c.push(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r]);for(;i=c.pop();)e.call(t,i,++u,this);return this},eachBefore:function(e,t){for(var n,r,o=this,i=[o],a=-1;o=i.pop();)if(e.call(t,o,++a,this),n=o.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;e=n.pop(),t=r.pop();for(;e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return c(this).eachBefore(h)},[Symbol.iterator]:function*(){var e,t,n,r,o=this,i=[o];do{for(e=i.reverse(),i=[];o=e.pop();)if(yield o,t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n])}while(i.length)}};var v={clickable:"commonStyles-module_clickable__e4rhy"};function y(n){var r=n.children,o=n.item,i=n.onHover,a=n.selectedItem,c=n.onSelect,u=n.idAccessor,l=t.useCallback((function(e,t){return u&&e&&t?u(e.data)===u(t.data):(null==e?void 0:e.data)===(null==t?void 0:t.data)}),[u]),h=t.useCallback((function(){return i&&i(o)}),[o,i]),s=t.useCallback((function(){return i&&i(null)}),[i]),f=t.useCallback((function(){c&&(l(o,a)?c(null):c(o))}),[l,o,c,a]),d=e.useSpring({to:{x:o.x0,y:o.y0,height:o.y1-o.y0,width:o.x1-o.x0}});return r({rect:{x:d.x,y:d.y,height:d.height,width:d.width,onMouseEnter:h,onMouseLeave:s,onClick:f,className:c?v.clickable:void 0},item:o})}r(".commonStyles-module_clickable__e4rhy {\n  cursor: pointer;\n}"),exports.SequencesIcicle=function(e){var r=e.data,a=e.childrenAccessor,u=e.valueAccessor,l=e.idAccessor,h=e.padding,s=void 0===h?2:h,f=e.style,d=e.className,v=e.children,g=void 0===v?function(e){return t.createElement(i,o({},e.rect,{fill:"grey",stroke:"black"}))}:v,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","childrenAccessor","valueAccessor","idAccessor","padding","style","className","children"]),x=function(){var e=n.useResizeDetector(),t=e.width,r=void 0===t?1:t,o=e.height;return{width:r,height:void 0===o?1:o,ref:e.ref}}(),b=x.width,A=x.height,w=x.ref,k=t.useMemo((function(){var e=c(r,a).sum(u).sort((function(e,t){return t.value-e.value}));return p().padding(s).size([b,A])(e).descendants().filter((function(e){return e.x1-e.x0>=.1}))}),[a,r,A,s,u,b]);return t.createElement("div",{ref:w,style:f,className:d},t.createElement("svg",{height:A,width:b,viewBox:"0 0 ".concat(b," ").concat(A)},k.map((function(e,n){return t.createElement(y,o({key:l?l(e.data):n,item:e,idAccessor:l},m),g)}))))},exports.SimpleRectangle=i;
//# sourceMappingURL=index.js.map
