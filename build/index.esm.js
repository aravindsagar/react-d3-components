import{animated as e,useSpring as t}from"@react-spring/web";import n,{useMemo as r,useCallback as o}from"react";import{useResizeDetector as i}from"react-resize-detector";function a(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}a(':root {\n  /* Add your CSS variables here */\n  --background: #fff;\n  --font-color: #494949;\n\n  --harvey-black: #131111;\n  --harvey-white: #e0e0e0;\n  --harvey-red: #ff2323;\n  --harvey-green: #005f20;\n  --harvey-blue: #070bce;\n\n  --heading-font-size: 40px;\n\n  font-family: "Avenir Next", Helvetica, Arial, sans-serif;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --background: #3c3c3c;\n    --font-color: #fafafa;\n  }\n}\n\n');var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};var u=n.memo((function(t){return n.createElement(e.rect,c({},t))}));function h(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function l(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=s)):void 0===t&&(t=f);for(var n,r,o,i,a,c=new v(e),u=[c];n=u.pop();)if((o=t(n.data))&&(a=(o=Array.from(o)).length))for(n.children=o,i=a-1;i>=0;--i)u.push(r=o[i]=new v(o[i])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(p)}function f(e){return e.children}function s(e){return Array.isArray(e)?e[1]:null}function d(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function p(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function v(e){this.data=e,this.depth=this.height=0,this.parent=null}function y(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function m(){var e=1,t=1,n=0,r=!1;function o(o){var i=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/i,o.eachBefore(function(e,t){return function(r){r.children&&function(e,t,n,r,o){for(var i,a=e.children,c=-1,u=a.length,h=e.value&&(r-t)/e.value;++c<u;)(i=a[c]).y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*h}(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var o=r.x0,i=r.y0,a=r.x1-n,c=r.y1-n;a<o&&(o=a=(o+a)/2),c<i&&(i=c=(i+c)/2),r.x0=o,r.y0=i,r.x1=a,r.y1=c}}(t,i)),r&&o.eachBefore(y),o}return o.round=function(e){return arguments.length?(r=!!e,o):r},o.size=function(n){return arguments.length?(e=+n[0],t=+n[1],o):[e,t]},o.padding=function(e){return arguments.length?(n=+e,o):n},o}v.prototype=l.prototype={constructor:v,count:function(){return this.eachAfter(h)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,o,i=this,a=[i],c=[],u=-1;i=a.pop();)if(c.push(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r]);for(;i=c.pop();)e.call(t,i,++u,this);return this},eachBefore:function(e,t){for(var n,r,o=this,i=[o],a=-1;o=i.pop();)if(e.call(t,o,++a,this),n=o.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;e=n.pop(),t=r.pop();for(;e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return l(this).eachBefore(d)},[Symbol.iterator]:function*(){var e,t,n,r,o=this,i=[o];do{for(e=i.reverse(),i=[];o=e.pop();)if(yield o,t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n])}while(i.length)}};var g={clickable:"commonStyles-module_clickable__e4rhy"};function x(e){var t=e.data,o=e.childrenAccessor,a=e.valueAccessor,h=e.idAccessor,f=e.padding,s=void 0===f?2:f,d=e.style,p=e.className,v=e.children,y=void 0===v?function(e){return n.createElement(u,c({},e.rect,{fill:"grey",stroke:"black"}))}:v,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","childrenAccessor","valueAccessor","idAccessor","padding","style","className","children"]),x=function(){var e=i(),t=e.width,n=void 0===t?1:t,r=e.height;return{width:n,height:void 0===r?1:r,ref:e.ref}}(),A=x.width,w=x.height,k=x.ref,O=r((function(){var e=l(t,o).sum(a).sort((function(e,t){return t.value-e.value}));return m().padding(s).size([A,w])(e).descendants().filter((function(e){return e.x1-e.x0>=.1}))}),[o,t,w,s,a,A]);return n.createElement("div",{ref:k,style:d,className:p},n.createElement("svg",{height:w,width:A,viewBox:"0 0 ".concat(A," ").concat(w)},O.map((function(e,t){return n.createElement(b,c({key:h?h(e.data):t,item:e,idAccessor:h},g),y)}))))}function b(e){var n=e.children,r=e.item,i=e.onHover,a=e.selectedItem,c=e.onSelect,u=e.idAccessor,h=o((function(e,t){return u&&e&&t?u(e.data)===u(t.data):(null==e?void 0:e.data)===(null==t?void 0:t.data)}),[u]),l=o((function(){return i&&i(r)}),[r,i]),f=o((function(){return i&&i(null)}),[i]),s=o((function(){c&&(h(r,a)?c(null):c(r))}),[h,r,c,a]),d=t({to:{x:r.x0,y:r.y0,height:r.y1-r.y0,width:r.x1-r.x0}});return n({rect:{x:d.x,y:d.y,height:d.height,width:d.width,onMouseEnter:l,onMouseLeave:f,onClick:s,className:c?g.clickable:void 0},item:r})}a(".commonStyles-module_clickable__e4rhy {\n  cursor: pointer;\n}");export{x as SequencesIcicle,u as SimpleRectangle};
//# sourceMappingURL=index.esm.js.map
